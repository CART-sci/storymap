---
title: "Fish consumption"
author: "Jamie Afflerbach"
date: "2/13/2018"
output: html_document
---

```{r setup, include=FALSE}

knitr::opts_chunk$set(message = FALSE, warning = FALSE)

library(ggplot2)
library(gganimate)
library(tweenr)
library(ggthemes)
library(tidyverse)
library('rphylopic')
```

Data for fish consumption.

I just create a dummy dataset with two rows and columns representing global fish consumption in 1960 and now.

```{r data}

a=data.frame(group=c("1960", "Now"), values=c(0, 0), frame=rep('a', 2))
b=data.frame(group=c("1960", "Now"), values=c(9.6, 20.1), frame=rep('b', 2))
data=rbind(a,b)	

# Basic barplot:
ggplot(data, aes(x=group, y=values, fill=group)) + 
  geom_bar(stat='identity')
 

```

#tweenr


```{r}
 

# Interpolate data with tweenr
ts <- list(a, b, a)
tf <- tween_states(ts, tweenlength = 0.02, statelength = 0.001, ease = c('cubic-in-out'), nframes = 100)
tf
 
# Make a barplot with frame
p = ggplot(tf, aes(x=group, y=values, fill=group, frame= .frame)) + 
  geom_bar(stat='identity', position = "identity") +
  theme(panel.grid.major = element_blank(), 
        panel.grid.minor = element_blank(),
        panel.background = element_blank(), 
        axis.line = element_line(colour = "black")) +
  xlab("") +
  ylab("Kilograms of fish per capita") +
  guides(fill=FALSE) +
 # scale_fill_manual(values = "grey") +
  geom_text(family="OpenSansEmoji", size=10)
  

gganimate(p, interval = .1, title_frame = F, ani.width=480, ani.height=480, filename = "fishconsumption.gif")

```







